{% from 'macros.html' import display_user %}
{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} ðŸ‘¥ {% endblock %} Users</h1>
    <hr>
    {% if current_user.is_authenticated %}
        {{ display_user(user) }}
        {% if current_user.id == user.id %}
            <p><a href="{{ url_for('users.edit_user')}}"><button type="submit" class="btn btn-primary">Edit Profile</button></a></p>
        {% endif %}
    {% else %}
        <div>
            <p>
                {% if has_requests and has_orders %}
                    This user is already making requests and fulfilling orders on qqueue.
                {% elif has_requests %}
                    This user is already making requests on qqueue.
                {% elif has_orders %}
                    This user is already fulfilling orders on qqueue.
                {% else %}
                    This user is already registered for qqueue.
                {% endif %}
            </p>
            <p><a href="{{ url_for('auth.login') }}">Login</a> or <a href="{{ url_for('auth.register') }}">register</a> to see their profile.</p>
        </div>
    {% endif %}
{% endblock %}